<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>lio-mern</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/stylesheets/posts.css" />
  </head>
  <body>
    <div id="nav" class="div fixed-top container my-4 navb">
      <div class="menu pt-3">
        <a href="/feed" class="logo"><h4>LIOmern</h4></a>
        <ul>
          <a href="/feed  "><li>feed</li></a>
          <a href="/yourposts"><li>Your posts</li></a>
          <a href="/profile"><li>profile</li></a>
        </ul>
        <a href="/signup" class="btn logou ">logout</a>
        <div onclick="hello()" class="m-bt py-3">Menu</div>
      </div>
    </div>

    <hr />
    <h1 class="my-5 mx-5">Hey <b><%= user.fullname%>....</b></h1>

    <hr />
    <h1 class="text-center my-5"> Your Posts is here:</h1>
    <section class="p-3 sec-cont">
      <div class="cards">
        <% 
          const reversedPosts = user.posts.slice().reverse(); // Reverse the order of posts
          
          if (reversedPosts.length === 0) { %>
           <div class="nope my-5">
            <p>Currently you post nothing.</p> <br>
            <a href="/accountsettings">Want to post something.....? </a>
           </div>
          <% } else {
            reversedPosts.forEach((e) => { %>
              <div class="card my-2" style="width: 18rem">
                <img src="/images/uploads/<%= e.image %>" class="card-img-top" alt="...">
                <div class="card-body">
                  <p class="card-text"><%= e.posttext %></p>
                </div>
              </div>
            <% });
          }
        %>
      </div>
    </section>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script src="/javascripts/demo.js"></script>
  </body>
</html>
